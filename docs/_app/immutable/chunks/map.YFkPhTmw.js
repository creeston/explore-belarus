import{s as ei,_ as Yn,z as fn,$ as qn,b as Bn,f as V,w as D,i as sn,h as ut,n as ct,x as st,F as ri,t as Ft,d as Xt,B as Yt}from"./scheduler.CK6oJh7_.js";import{e as Rn}from"./user-store.CWAZLyhz.js";import{S as oi,i as ui}from"./index.CbkqpZxN.js";class tn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const u=e[r],o=t+u,l=Math.abs(t)<Math.abs(u)?t-(o-u):u-(o-t);l&&(e[i++]=l),t=o}return e[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let e=this._n,i,r,u,o=0;if(e>0){for(o=t[--e];e>0&&(i=o,r=t[--e],o=i+r,u=r-(o-i),!u););e>0&&(u<0&&t[e-1]<0||u>0&&t[e-1]>0)&&(r=u*2,i=o+r,r==i-o&&(o=i))}return o}}function*li(n){for(const t of n)yield*t}function qt(n){return Array.from(li(n))}var L=1e-6,fi=1e-12,N=Math.PI,Z=N/2,ht=N/4,H=N*2,G=180/N,Y=N/180,C=Math.abs,Bt=Math.atan,En=Math.atan2,F=Math.cos,ai=Math.exp,ci=Math.log,X=Math.sin,si=Math.sign||function(n){return n>0?1:n<0?-1:0},rn=Math.sqrt,hi=Math.tan;function pi(n){return n>1?0:n<-1?N:Math.acos(n)}function yn(n){return n>1?Z:n<-1?-Z:Math.asin(n)}function K(){}function An(n,t){n&&gt.hasOwnProperty(n.type)&&gt[n.type](n,t)}var pt={Feature:function(n,t){An(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,i=-1,r=e.length;++i<r;)An(e[i].geometry,t)}},gt={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)n=e[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){Wn(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)Wn(e[i],t,0)},Polygon:function(n,t){vt(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)vt(e[i],t)},GeometryCollection:function(n,t){for(var e=n.geometries,i=-1,r=e.length;++i<r;)An(e[i],t)}};function Wn(n,t,e){var i=-1,r=n.length-e,u;for(t.lineStart();++i<r;)u=n[i],t.point(u[0],u[1],u[2]);t.lineEnd()}function vt(n,t){var e=-1,i=n.length;for(t.polygonStart();++e<i;)Wn(n[e],t,1);t.polygonEnd()}function un(n,t){n&&pt.hasOwnProperty(n.type)?pt[n.type](n,t):An(n,t)}function Jn(n){return[En(n[1],n[0]),yn(n[2])]}function an(n){var t=n[0],e=n[1],i=F(e);return[i*F(t),i*X(t),X(e)]}function Pn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Ln(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function On(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Nn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Kn(n){var t=rn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Qn(n,t){function e(i,r){return i=n(i,r),t(i[0],i[1])}return n.invert&&t.invert&&(e.invert=function(i,r){return i=t.invert(i,r),i&&n.invert(i[0],i[1])}),e}function Un(n,t){return C(n)>N&&(n-=Math.round(n/H)*H),[n,t]}Un.invert=Un;function Ot(n,t,e){return(n%=H)?t||e?Qn(_t(n),St(t,e)):_t(n):t||e?St(t,e):Un}function dt(n){return function(t,e){return t+=n,C(t)>N&&(t-=Math.round(t/H)*H),[t,e]}}function _t(n){var t=dt(n);return t.invert=dt(-n),t}function St(n,t){var e=F(n),i=X(n),r=F(t),u=X(t);function o(l,g){var c=F(g),f=F(l)*c,a=X(l)*c,s=X(g),p=s*e+f*i;return[En(a*r-p*u,f*e-s*i),yn(p*r+a*u)]}return o.invert=function(l,g){var c=F(g),f=F(l)*c,a=X(l)*c,s=X(g),p=s*r-a*u;return[En(a*r+s*u,f*e+p*i),yn(p*e-f*i)]},o}function gi(n){n=Ot(n[0]*Y,n[1]*Y,n.length>2?n[2]*Y:0);function t(e){return e=n(e[0]*Y,e[1]*Y),e[0]*=G,e[1]*=G,e}return t.invert=function(e){return e=n.invert(e[0]*Y,e[1]*Y),e[0]*=G,e[1]*=G,e},t}function vi(n,t,e,i,r,u){if(e){var o=F(t),l=X(t),g=i*e;r==null?(r=t+i*H,u=t-g/2):(r=Et(o,r),u=Et(o,u),(i>0?r<u:r>u)&&(r+=i*H));for(var c,f=r;i>0?f>u:f<u;f-=g)c=Jn([o,-l*F(f),-l*X(f)]),n.point(c[0],c[1])}}function Et(n,t){t=an(t),t[0]-=n,Kn(t);var e=pi(-t[1]);return((-t[2]<0?-e:e)+H-L)%H}function Zt(){var n=[],t;return{point:function(e,i,r){t.push([e,i,r])},lineStart:function(){n.push(t=[])},lineEnd:K,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function zn(n,t){return C(n[0]-t[0])<L&&C(n[1]-t[1])<L}function kn(n,t,e,i){this.x=n,this.z=t,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function Gt(n,t,e,i,r){var u=[],o=[],l,g;if(n.forEach(function(v){if(!((y=v.length-1)<=0)){var y,d=v[0],R=v[y],S;if(zn(d,R)){if(!d[2]&&!R[2]){for(r.lineStart(),l=0;l<y;++l)r.point((d=v[l])[0],d[1]);r.lineEnd();return}R[0]+=2*L}u.push(S=new kn(d,v,null,!0)),o.push(S.o=new kn(d,null,S,!1)),u.push(S=new kn(R,v,null,!1)),o.push(S.o=new kn(R,null,S,!0))}}),!!u.length){for(o.sort(t),yt(u),yt(o),l=0,g=o.length;l<g;++l)o[l].e=e=!e;for(var c=u[0],f,a;;){for(var s=c,p=!0;s.v;)if((s=s.n)===c)return;f=s.z,r.lineStart();do{if(s.v=s.o.v=!0,s.e){if(p)for(l=0,g=f.length;l<g;++l)r.point((a=f[l])[0],a[1]);else i(s.x,s.n.x,1,r);s=s.n}else{if(p)for(f=s.p.z,l=f.length-1;l>=0;--l)r.point((a=f[l])[0],a[1]);else i(s.x,s.p.x,-1,r);s=s.p}s=s.o,f=s.z,p=!p}while(!s.v);r.lineEnd()}}}function yt(n){if(t=n.length){for(var t,e=0,i=n[0],r;++e<t;)i.n=r=n[e],r.p=i,i=r;i.n=r=n[0],r.p=i}}function Zn(n){return C(n[0])<=N?n[0]:si(n[0])*((C(n[0])+N)%H-N)}function di(n,t){var e=Zn(t),i=t[1],r=X(i),u=[X(e),-F(e),0],o=0,l=0,g=new tn;r===1?i=Z+L:r===-1&&(i=-Z-L);for(var c=0,f=n.length;c<f;++c)if(s=(a=n[c]).length)for(var a,s,p=a[s-1],v=Zn(p),y=p[1]/2+ht,d=X(y),R=F(y),S=0;S<s;++S,v=_,d=M,R=z,p=w){var w=a[S],_=Zn(w),m=w[1]/2+ht,M=X(m),z=F(m),k=_-v,I=k>=0?1:-1,T=I*k,E=T>N,B=d*M;if(g.add(En(B*I*X(T),R*z+B*F(T))),o+=E?k+I*H:k,E^v>=e^_>=e){var x=Ln(an(p),an(w));Kn(x);var A=Ln(u,x);Kn(A);var h=(E^k>=0?-1:1)*yn(A[2]);(i>h||i===h&&(x[0]||x[1]))&&(l+=E^k>=0?1:-1)}}return(o<-L||o<L&&g<-fi)^l&1}function Ht(n,t,e,i){return function(r){var u=t(r),o=Zt(),l=t(o),g=!1,c,f,a,s={point:p,lineStart:y,lineEnd:d,polygonStart:function(){s.point=R,s.lineStart=S,s.lineEnd=w,f=[],c=[]},polygonEnd:function(){s.point=p,s.lineStart=y,s.lineEnd=d,f=qt(f);var _=di(c,i);f.length?(g||(r.polygonStart(),g=!0),Gt(f,Si,_,e,r)):_&&(g||(r.polygonStart(),g=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),g&&(r.polygonEnd(),g=!1),f=c=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(_,m){n(_,m)&&r.point(_,m)}function v(_,m){u.point(_,m)}function y(){s.point=v,u.lineStart()}function d(){s.point=p,u.lineEnd()}function R(_,m){a.push([_,m]),l.point(_,m)}function S(){l.lineStart(),a=[]}function w(){R(a[0][0],a[0][1]),l.lineEnd();var _=l.clean(),m=o.result(),M,z=m.length,k,I,T;if(a.pop(),c.push(a),a=null,!!z){if(_&1){if(I=m[0],(k=I.length-1)>0){for(g||(r.polygonStart(),g=!0),r.lineStart(),M=0;M<k;++M)r.point((T=I[M])[0],T[1]);r.lineEnd()}return}z>1&&_&2&&m.push(m.pop().concat(m.shift())),f.push(m.filter(_i))}}return s}}function _i(n){return n.length>1}function Si(n,t){return((n=n.x)[0]<0?n[1]-Z-L:Z-n[1])-((t=t.x)[0]<0?t[1]-Z-L:Z-t[1])}const wt=Ht(function(){return!0},Ei,wi,[-N,-Z]);function Ei(n){var t=NaN,e=NaN,i=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(u,o){var l=u>0?N:-N,g=C(u-t);C(g-N)<L?(n.point(t,e=(e+o)/2>0?Z:-Z),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(l,e),n.point(u,e),r=0):i!==l&&g>=N&&(C(t-i)<L&&(t-=i*L),C(u-l)<L&&(u-=l*L),e=yi(t,e,u,o),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(l,e),r=0),n.point(t=u,e=o),i=l},lineEnd:function(){n.lineEnd(),t=e=NaN},clean:function(){return 2-r}}}function yi(n,t,e,i){var r,u,o=X(n-e);return C(o)>L?Bt((X(t)*(u=F(i))*X(e)-X(i)*(r=F(t))*X(n))/(r*u*o)):(t+i)/2}function wi(n,t,e,i){var r;if(n==null)r=e*Z,i.point(-N,r),i.point(0,r),i.point(N,r),i.point(N,0),i.point(N,-r),i.point(0,-r),i.point(-N,-r),i.point(-N,0),i.point(-N,r);else if(C(n[0]-t[0])>L){var u=n[0]<t[0]?N:-N;r=e*u/2,i.point(-u,r),i.point(0,r),i.point(u,r)}else i.point(t[0],t[1])}function mi(n){var t=F(n),e=2*Y,i=t>0,r=C(t)>L;function u(f,a,s,p){vi(p,n,e,s,f,a)}function o(f,a){return F(f)*F(a)>t}function l(f){var a,s,p,v,y;return{lineStart:function(){v=p=!1,y=1},point:function(d,R){var S=[d,R],w,_=o(d,R),m=i?_?0:c(d,R):_?c(d+(d<0?N:-N),R):0;if(!a&&(v=p=_)&&f.lineStart(),_!==p&&(w=g(a,S),(!w||zn(a,w)||zn(S,w))&&(S[2]=1)),_!==p)y=0,_?(f.lineStart(),w=g(S,a),f.point(w[0],w[1])):(w=g(a,S),f.point(w[0],w[1],2),f.lineEnd()),a=w;else if(r&&a&&i^_){var M;!(m&s)&&(M=g(S,a,!0))&&(y=0,i?(f.lineStart(),f.point(M[0][0],M[0][1]),f.point(M[1][0],M[1][1]),f.lineEnd()):(f.point(M[1][0],M[1][1]),f.lineEnd(),f.lineStart(),f.point(M[0][0],M[0][1],3)))}_&&(!a||!zn(a,S))&&f.point(S[0],S[1]),a=S,p=_,s=m},lineEnd:function(){p&&f.lineEnd(),a=null},clean:function(){return y|(v&&p)<<1}}}function g(f,a,s){var p=an(f),v=an(a),y=[1,0,0],d=Ln(p,v),R=Pn(d,d),S=d[0],w=R-S*S;if(!w)return!s&&f;var _=t*R/w,m=-t*S/w,M=Ln(y,d),z=Nn(y,_),k=Nn(d,m);On(z,k);var I=M,T=Pn(z,I),E=Pn(I,I),B=T*T-E*(Pn(z,z)-1);if(!(B<0)){var x=rn(B),A=Nn(I,(-T-x)/E);if(On(A,z),A=Jn(A),!s)return A;var h=f[0],P=a[0],q=f[1],O=a[1],W;P<h&&(W=h,h=P,P=W);var hn=P-h,$=C(hn-N)<L,nn=$||hn<L;if(!$&&O<q&&(W=q,q=O,O=W),nn?$?q+O>0^A[1]<(C(A[0]-h)<L?q:O):q<=A[1]&&A[1]<=O:hn>N^(h<=A[0]&&A[0]<=P)){var j=Nn(I,(-T+x)/E);return On(j,z),[A,Jn(j)]}}}function c(f,a){var s=i?n:N-n,p=0;return f<-s?p|=1:f>s&&(p|=2),a<-s?p|=4:a>s&&(p|=8),p}return Ht(o,l,u,i?[0,-n]:[-N,n-N])}function Mi(n,t,e,i,r,u){var o=n[0],l=n[1],g=t[0],c=t[1],f=0,a=1,s=g-o,p=c-l,v;if(v=e-o,!(!s&&v>0)){if(v/=s,s<0){if(v<f)return;v<a&&(a=v)}else if(s>0){if(v>a)return;v>f&&(f=v)}if(v=r-o,!(!s&&v<0)){if(v/=s,s<0){if(v>a)return;v>f&&(f=v)}else if(s>0){if(v<f)return;v<a&&(a=v)}if(v=i-l,!(!p&&v>0)){if(v/=p,p<0){if(v<f)return;v<a&&(a=v)}else if(p>0){if(v>a)return;v>f&&(f=v)}if(v=u-l,!(!p&&v<0)){if(v/=p,p<0){if(v>a)return;v>f&&(f=v)}else if(p>0){if(v<f)return;v<a&&(a=v)}return f>0&&(n[0]=o+f*s,n[1]=l+f*p),a<1&&(t[0]=o+a*s,t[1]=l+a*p),!0}}}}}var pn=1e9,In=-pn;function Ri(n,t,e,i){function r(c,f){return n<=c&&c<=e&&t<=f&&f<=i}function u(c,f,a,s){var p=0,v=0;if(c==null||(p=o(c,a))!==(v=o(f,a))||g(c,f)<0^a>0)do s.point(p===0||p===3?n:e,p>1?i:t);while((p=(p+a+4)%4)!==v);else s.point(f[0],f[1])}function o(c,f){return C(c[0]-n)<L?f>0?0:3:C(c[0]-e)<L?f>0?2:1:C(c[1]-t)<L?f>0?1:0:f>0?3:2}function l(c,f){return g(c.x,f.x)}function g(c,f){var a=o(c,1),s=o(f,1);return a!==s?a-s:a===0?f[1]-c[1]:a===1?c[0]-f[0]:a===2?c[1]-f[1]:f[0]-c[0]}return function(c){var f=c,a=Zt(),s,p,v,y,d,R,S,w,_,m,M,z={point:k,lineStart:B,lineEnd:x,polygonStart:T,polygonEnd:E};function k(h,P){r(h,P)&&f.point(h,P)}function I(){for(var h=0,P=0,q=p.length;P<q;++P)for(var O=p[P],W=1,hn=O.length,$=O[0],nn,j,Mn=$[0],on=$[1];W<hn;++W)nn=Mn,j=on,$=O[W],Mn=$[0],on=$[1],j<=i?on>i&&(Mn-nn)*(i-j)>(on-j)*(n-nn)&&++h:on<=i&&(Mn-nn)*(i-j)<(on-j)*(n-nn)&&--h;return h}function T(){f=a,s=[],p=[],M=!0}function E(){var h=I(),P=M&&h,q=(s=qt(s)).length;(P||q)&&(c.polygonStart(),P&&(c.lineStart(),u(null,null,1,c),c.lineEnd()),q&&Gt(s,l,h,u,c),c.polygonEnd()),f=c,s=p=v=null}function B(){z.point=A,p&&p.push(v=[]),m=!0,_=!1,S=w=NaN}function x(){s&&(A(y,d),R&&_&&a.rejoin(),s.push(a.result())),z.point=k,_&&f.lineEnd()}function A(h,P){var q=r(h,P);if(p&&v.push([h,P]),m)y=h,d=P,R=q,m=!1,q&&(f.lineStart(),f.point(h,P));else if(q&&_)f.point(h,P);else{var O=[S=Math.max(In,Math.min(pn,S)),w=Math.max(In,Math.min(pn,w))],W=[h=Math.max(In,Math.min(pn,h)),P=Math.max(In,Math.min(pn,P))];Mi(O,W,n,t,e,i)?(_||(f.lineStart(),f.point(O[0],O[1])),f.point(W[0],W[1]),q||f.lineEnd(),M=!1):q&&(f.lineStart(),f.point(h,P),M=!1)}S=h,w=P,_=q}return z}}const Vn=n=>n;var Gn=new tn,$n=new tn,Wt,Jt,jn,bn,b={point:K,lineStart:K,lineEnd:K,polygonStart:function(){b.lineStart=Pi,b.lineEnd=ki},polygonEnd:function(){b.lineStart=b.lineEnd=b.point=K,Gn.add(C($n)),$n=new tn},result:function(){var n=Gn/2;return Gn=new tn,n}};function Pi(){b.point=Ni}function Ni(n,t){b.point=Kt,Wt=jn=n,Jt=bn=t}function Kt(n,t){$n.add(bn*n-jn*t),jn=n,bn=t}function ki(){Kt(Wt,Jt)}var cn=1/0,Tn=cn,wn=-cn,Cn=wn,xn={point:Ii,lineStart:K,lineEnd:K,polygonStart:K,polygonEnd:K,result:function(){var n=[[cn,Tn],[wn,Cn]];return wn=Cn=-(Tn=cn=1/0),n}};function Ii(n,t){n<cn&&(cn=n),n>wn&&(wn=n),t<Tn&&(Tn=t),t>Cn&&(Cn=t)}var nt=0,tt=0,gn=0,Dn=0,Fn=0,ln=0,it=0,et=0,vn=0,Qt,Ut,Q,U,J={point:en,lineStart:mt,lineEnd:Mt,polygonStart:function(){J.lineStart=Li,J.lineEnd=Ti},polygonEnd:function(){J.point=en,J.lineStart=mt,J.lineEnd=Mt},result:function(){var n=vn?[it/vn,et/vn]:ln?[Dn/ln,Fn/ln]:gn?[nt/gn,tt/gn]:[NaN,NaN];return nt=tt=gn=Dn=Fn=ln=it=et=vn=0,n}};function en(n,t){nt+=n,tt+=t,++gn}function mt(){J.point=zi}function zi(n,t){J.point=Ai,en(Q=n,U=t)}function Ai(n,t){var e=n-Q,i=t-U,r=rn(e*e+i*i);Dn+=r*(Q+n)/2,Fn+=r*(U+t)/2,ln+=r,en(Q=n,U=t)}function Mt(){J.point=en}function Li(){J.point=Ci}function Ti(){Vt(Qt,Ut)}function Ci(n,t){J.point=Vt,en(Qt=Q=n,Ut=U=t)}function Vt(n,t){var e=n-Q,i=t-U,r=rn(e*e+i*i);Dn+=r*(Q+n)/2,Fn+=r*(U+t)/2,ln+=r,r=U*n-Q*t,it+=r*(Q+n),et+=r*(U+t),vn+=r*3,en(Q=n,U=t)}function $t(n){this._context=n}$t.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,H);break}}},result:K};var rt=new tn,Hn,jt,bt,dn,_n,mn={point:K,lineStart:function(){mn.point=xi},lineEnd:function(){Hn&&ni(jt,bt),mn.point=K},polygonStart:function(){Hn=!0},polygonEnd:function(){Hn=null},result:function(){var n=+rt;return rt=new tn,n}};function xi(n,t){mn.point=ni,jt=dn=n,bt=_n=t}function ni(n,t){dn-=n,_n-=t,rt.add(rn(dn*dn+_n*_n)),dn=n,_n=t}let Rt,Xn,Pt,Nt;class kt{constructor(t){this._append=t==null?ti:Di(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:{this._append`M${t},${e}`,this._point=1;break}case 1:{this._append`L${t},${e}`;break}default:{if(this._append`M${t},${e}`,this._radius!==Pt||this._append!==Xn){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,Pt=i,Xn=this._append,Nt=this._,this._=r}this._+=Nt;break}}}result(){const t=this._;return this._="",t.length?t:null}}function ti(n){let t=1;this._+=n[0];for(const e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function Di(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return ti;if(t!==Rt){const e=10**t;Rt=t,Xn=function(r){let u=1;this._+=r[0];for(const o=r.length;u<o;++u)this._+=Math.round(arguments[u]*e)/e+r[u]}}return Xn}function Fi(n,t){let e=3,i=4.5,r,u;function o(l){return l&&(typeof i=="function"&&u.pointRadius(+i.apply(this,arguments)),un(l,r(u))),u.result()}return o.area=function(l){return un(l,r(b)),b.result()},o.measure=function(l){return un(l,r(mn)),mn.result()},o.bounds=function(l){return un(l,r(xn)),xn.result()},o.centroid=function(l){return un(l,r(J)),J.result()},o.projection=function(l){return arguments.length?(r=l==null?(n=null,Vn):(n=l).stream,o):n},o.context=function(l){return arguments.length?(u=l==null?(t=null,new kt(e)):new $t(t=l),typeof i!="function"&&u.pointRadius(i),o):t},o.pointRadius=function(l){return arguments.length?(i=typeof l=="function"?l:(u.pointRadius(+l),+l),o):i},o.digits=function(l){if(!arguments.length)return e;if(l==null)e=null;else{const g=Math.floor(l);if(!(g>=0))throw new RangeError(`invalid digits: ${l}`);e=g}return t===null&&(u=new kt(e)),o},o.projection(n).digits(e).context(t)}function lt(n){return function(t){var e=new ot;for(var i in n)e[i]=n[i];return e.stream=t,e}}function ot(){}ot.prototype={constructor:ot,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ft(n,t,e){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),un(e,n.stream(xn)),t(xn.result()),i!=null&&n.clipExtent(i),n}function ii(n,t,e){return ft(n,function(i){var r=t[1][0]-t[0][0],u=t[1][1]-t[0][1],o=Math.min(r/(i[1][0]-i[0][0]),u/(i[1][1]-i[0][1])),l=+t[0][0]+(r-o*(i[1][0]+i[0][0]))/2,g=+t[0][1]+(u-o*(i[1][1]+i[0][1]))/2;n.scale(150*o).translate([l,g])},e)}function Xi(n,t,e){return ii(n,[[0,0],t],e)}function Yi(n,t,e){return ft(n,function(i){var r=+t,u=r/(i[1][0]-i[0][0]),o=(r-u*(i[1][0]+i[0][0]))/2,l=-u*i[0][1];n.scale(150*u).translate([o,l])},e)}function qi(n,t,e){return ft(n,function(i){var r=+t,u=r/(i[1][1]-i[0][1]),o=-u*i[0][0],l=(r-u*(i[1][1]+i[0][1]))/2;n.scale(150*u).translate([o,l])},e)}var It=16,Bi=F(30*Y);function zt(n,t){return+t?Zi(n,t):Oi(n)}function Oi(n){return lt({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function Zi(n,t){function e(i,r,u,o,l,g,c,f,a,s,p,v,y,d){var R=c-i,S=f-r,w=R*R+S*S;if(w>4*t&&y--){var _=o+s,m=l+p,M=g+v,z=rn(_*_+m*m+M*M),k=yn(M/=z),I=C(C(M)-1)<L||C(u-a)<L?(u+a)/2:En(m,_),T=n(I,k),E=T[0],B=T[1],x=E-i,A=B-r,h=S*x-R*A;(h*h/w>t||C((R*x+S*A)/w-.5)>.3||o*s+l*p+g*v<Bi)&&(e(i,r,u,o,l,g,E,B,I,_/=z,m/=z,M,y,d),d.point(E,B),e(E,B,I,_,m,M,c,f,a,s,p,v,y,d))}}return function(i){var r,u,o,l,g,c,f,a,s,p,v,y,d={point:R,lineStart:S,lineEnd:_,polygonStart:function(){i.polygonStart(),d.lineStart=m},polygonEnd:function(){i.polygonEnd(),d.lineStart=S}};function R(k,I){k=n(k,I),i.point(k[0],k[1])}function S(){a=NaN,d.point=w,i.lineStart()}function w(k,I){var T=an([k,I]),E=n(k,I);e(a,s,f,p,v,y,a=E[0],s=E[1],f=k,p=T[0],v=T[1],y=T[2],It,i),i.point(a,s)}function _(){d.point=R,i.lineEnd()}function m(){S(),d.point=M,d.lineEnd=z}function M(k,I){w(r=k,I),u=a,o=s,l=p,g=v,c=y,d.point=w}function z(){e(a,s,f,p,v,y,u,o,r,l,g,c,It,i),d.lineEnd=_,_()}return d}}var Gi=lt({point:function(n,t){this.stream.point(n*Y,t*Y)}});function Hi(n){return lt({point:function(t,e){var i=n(t,e);return this.stream.point(i[0],i[1])}})}function Wi(n,t,e,i,r){function u(o,l){return o*=i,l*=r,[t+n*o,e-n*l]}return u.invert=function(o,l){return[(o-t)/n*i,(e-l)/n*r]},u}function At(n,t,e,i,r,u){if(!u)return Wi(n,t,e,i,r);var o=F(u),l=X(u),g=o*n,c=l*n,f=o/n,a=l/n,s=(l*e-o*t)/n,p=(l*t+o*e)/n;function v(y,d){return y*=i,d*=r,[g*y-c*d+t,e-c*y-g*d]}return v.invert=function(y,d){return[i*(f*y-a*d+s),r*(p-a*y-f*d)]},v}function Ji(n){return Ki(function(){return n})()}function Ki(n){var t,e=150,i=480,r=250,u=0,o=0,l=0,g=0,c=0,f,a=0,s=1,p=1,v=null,y=wt,d=null,R,S,w,_=Vn,m=.5,M,z,k,I,T;function E(h){return k(h[0]*Y,h[1]*Y)}function B(h){return h=k.invert(h[0],h[1]),h&&[h[0]*G,h[1]*G]}E.stream=function(h){return I&&T===h?I:I=Gi(Hi(f)(y(M(_(T=h)))))},E.preclip=function(h){return arguments.length?(y=h,v=void 0,A()):y},E.postclip=function(h){return arguments.length?(_=h,d=R=S=w=null,A()):_},E.clipAngle=function(h){return arguments.length?(y=+h?mi(v=h*Y):(v=null,wt),A()):v*G},E.clipExtent=function(h){return arguments.length?(_=h==null?(d=R=S=w=null,Vn):Ri(d=+h[0][0],R=+h[0][1],S=+h[1][0],w=+h[1][1]),A()):d==null?null:[[d,R],[S,w]]},E.scale=function(h){return arguments.length?(e=+h,x()):e},E.translate=function(h){return arguments.length?(i=+h[0],r=+h[1],x()):[i,r]},E.center=function(h){return arguments.length?(u=h[0]%360*Y,o=h[1]%360*Y,x()):[u*G,o*G]},E.rotate=function(h){return arguments.length?(l=h[0]%360*Y,g=h[1]%360*Y,c=h.length>2?h[2]%360*Y:0,x()):[l*G,g*G,c*G]},E.angle=function(h){return arguments.length?(a=h%360*Y,x()):a*G},E.reflectX=function(h){return arguments.length?(s=h?-1:1,x()):s<0},E.reflectY=function(h){return arguments.length?(p=h?-1:1,x()):p<0},E.precision=function(h){return arguments.length?(M=zt(z,m=h*h),A()):rn(m)},E.fitExtent=function(h,P){return ii(E,h,P)},E.fitSize=function(h,P){return Xi(E,h,P)},E.fitWidth=function(h,P){return Yi(E,h,P)},E.fitHeight=function(h,P){return qi(E,h,P)};function x(){var h=At(e,0,0,s,p,a).apply(null,t(u,o)),P=At(e,i-h[0],r-h[1],s,p,a);return f=Ot(l,g,c),z=Qn(t,P),k=Qn(f,z),M=zt(z,m),A()}function A(){return I=T=null,E}return function(){return t=n.apply(this,arguments),E.invert=t.invert&&B,x()}}function at(n,t){return[n,ci(hi((Z+t)/2))]}at.invert=function(n,t){return[n,2*Bt(ai(t))-Z]};function Qi(){return Ui(at).scale(961/H)}function Ui(n){var t=Ji(n),e=t.center,i=t.scale,r=t.translate,u=t.clipExtent,o=null,l,g,c;t.scale=function(a){return arguments.length?(i(a),f()):i()},t.translate=function(a){return arguments.length?(r(a),f()):r()},t.center=function(a){return arguments.length?(e(a),f()):e()},t.clipExtent=function(a){return arguments.length?(a==null?o=l=g=c=null:(o=+a[0][0],l=+a[0][1],g=+a[1][0],c=+a[1][1]),f()):o==null?null:[[o,l],[g,c]]};function f(){var a=N*i(),s=t(gi(t.rotate()).invert([0,0]));return u(o==null?[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]:n===at?[[Math.max(s[0]-a,o),l],[Math.min(s[0]+a,g),c]]:[[o,Math.max(s[1]-a,l)],[g,Math.min(s[1]+a,c)]])}return f()}function Sn(n,t,e){this.k=n,this.x=t,this.y=e}Sn.prototype={constructor:Sn,scale:function(n){return n===1?this:new Sn(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new Sn(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Sn.prototype;function Lt(n,t,e){const i=n.slice();return i[8]=t[e],i[10]=e,i}function Tt(n,t,e){const i=n.slice();return i[11]=t[e],i[10]=e,i}function Ct(n){let t,e;return{c(){t=Yn("path"),this.h()},l(i){t=qn(i,"path",{d:!0,class:!0,stroke:!0,fill:!0,"stroke-width":!0}),Bn(t).forEach(V),this.h()},h(){D(t,"d",e=n[5](n[11])),D(t,"class","state"),D(t,"stroke","rgb(522, 201, 207 / 90%)"),D(t,"fill","rgb(182, 201, 207)"),D(t,"stroke-width","1px")},m(i,r){sn(i,t,r)},p(i,r){r&8&&e!==(e=i[5](i[11]))&&D(t,"d",e)},d(i){i&&V(t)}}}function xt(n){let t;function e(u,o){return u[2]===u[10]?$i:Vi}let i=e(n),r=i(n);return{c(){r.c(),t=fn()},l(u){r.l(u),t=fn()},m(u,o){r.m(u,o),sn(u,t,o)},p(u,o){i===(i=e(u))&&r?r.p(u,o):(r.d(1),r=i(u),r&&(r.c(),r.m(t.parentNode,t)))},d(u){u&&V(t),r.d(u)}}}function Vi(n){let t,e,i,r;return{c(){t=Yn("text"),e=Ft(`â­\r
                `),this.h()},l(u){t=qn(u,"text",{x:!0,y:!0,style:!0,class:!0});var o=Bn(t);e=Xt(o,`â­\r
                `),o.forEach(V),this.h()},h(){D(t,"x",i=n[8][0]-8),D(t,"y",r=n[8][1]+4),Yt(t,"font-size","10px"),D(t,"class","svelte-126iubx")},m(u,o){sn(u,t,o),ut(t,e)},p(u,o){o&16&&i!==(i=u[8][0]-8)&&D(t,"x",i),o&16&&r!==(r=u[8][1]+4)&&D(t,"y",r)},d(u){u&&V(t)}}}function $i(n){let t,e,i,r;return{c(){t=Yn("text"),e=Ft(`ðŸŒŸ\r
                `),this.h()},l(u){t=qn(u,"text",{x:!0,y:!0,style:!0,class:!0});var o=Bn(t);e=Xt(o,`ðŸŒŸ\r
                `),o.forEach(V),this.h()},h(){D(t,"x",i=n[8][0]-16),D(t,"y",r=n[8][1]+8),Yt(t,"font-size","20px"),D(t,"class","svelte-126iubx")},m(u,o){sn(u,t,o),ut(t,e)},p(u,o){o&16&&i!==(i=u[8][0]-16)&&D(t,"x",i),o&16&&r!==(r=u[8][1]+8)&&D(t,"y",r)},d(u){u&&V(t)}}}function Dt(n){let t,e=n[8]&&xt(n);return{c(){e&&e.c(),t=fn()},l(i){e&&e.l(i),t=fn()},m(i,r){e&&e.m(i,r),sn(i,t,r)},p(i,r){i[8]?e?e.p(i,r):(e=xt(i),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(i){i&&V(t),e&&e.d(i)}}}function ji(n){let t,e,i=Rn(n[3]),r=[];for(let l=0;l<i.length;l+=1)r[l]=Ct(Tt(n,i,l));let u=Rn(n[4]),o=[];for(let l=0;l<u.length;l+=1)o[l]=Dt(Lt(n,u,l));return{c(){t=Yn("svg");for(let l=0;l<r.length;l+=1)r[l].c();e=fn();for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){t=qn(l,"svg",{width:!0,height:!0,class:!0});var g=Bn(t);for(let c=0;c<r.length;c+=1)r[c].l(g);e=fn();for(let c=0;c<o.length;c+=1)o[c].l(g);g.forEach(V),this.h()},h(){D(t,"width",n[1]),D(t,"height",n[0]),D(t,"class","svelte-126iubx")},m(l,g){sn(l,t,g);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(t,null);ut(t,e);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(t,null)},p(l,[g]){if(g&40){i=Rn(l[3]);let c;for(c=0;c<i.length;c+=1){const f=Tt(l,i,c);r[c]?r[c].p(f,g):(r[c]=Ct(f),r[c].c(),r[c].m(t,e))}for(;c<r.length;c+=1)r[c].d(1);r.length=i.length}if(g&20){u=Rn(l[4]);let c;for(c=0;c<u.length;c+=1){const f=Lt(l,u,c);o[c]?o[c].p(f,g):(o[c]=Dt(f),o[c].c(),o[c].m(t,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=u.length}g&2&&D(t,"width",l[1]),g&1&&D(t,"height",l[0])},i:ct,o:ct,d(l){l&&V(t),st(r,l),st(o,l)}}}function bi(n,t,e){let i,{height:r=500}=t,{width:u=500}=t,{coords:o=null}=t,{highlighedCoordIndex:l=null}=t;const g=Qi().center([28,54]).scale(r*6).translate([r/2,u/2]),c=Fi().projection(g);let f=[];return ri(async()=>{const s=await(await fetch("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson")).json();e(3,f=s.features.filter(function(p){return p.properties.name=="Belarus"}))}),n.$$set=a=>{"height"in a&&e(0,r=a.height),"width"in a&&e(1,u=a.width),"coords"in a&&e(6,o=a.coords),"highlighedCoordIndex"in a&&e(2,l=a.highlighedCoordIndex)},n.$$.update=()=>{n.$$.dirty&64&&e(4,i=o?o.map(a=>g([a[1],a[0]])):[])},[r,u,l,f,i,c,o]}class ee extends oi{constructor(t){super(),ui(this,t,bi,ji,ei,{height:0,width:1,coords:6,highlighedCoordIndex:2})}}export{ee as M};
