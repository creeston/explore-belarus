import{s as O,a as v,e as y,g as x,c as b,b as w,f as u,w as S,i as h,h as T,x as q,k as $,t as B,d as C,j as G}from"../chunks/scheduler.CK6oJh7_.js";import{S as N,i as U,c as z,b as E,m as M,t as m,d as V,a as _,e as L,g as A}from"../chunks/index.CbkqpZxN.js";import{e as j,p as F,t as H}from"../chunks/user-store.CWAZLyhz.js";import{I as J,P as K}from"../chunks/InfiniteScroll.CZjorn2C.js";async function Q(o){return await(await o.fetch("data/places.json",{method:"GET",headers:{"content-type":"application/json"}})).json()}const R=async o=>({props:{places:await Q(o)}}),ae=Object.freeze(Object.defineProperty({__proto__:null,load:R},Symbol.toStringTag,{value:"Module"}));function k(o,n,a){const f=o.slice();return f[8]=n[a],f}function I(o){let n,a=o[2]("planned.empty")+"",f;return{c(){n=y("div"),f=B(a),this.h()},l(l){n=b(l,"DIV",{class:!0});var c=w(n);f=C(c,a),c.forEach(u),this.h()},h(){S(n,"class","text-center md:text-2xl max-sm:text-md mt-10 empty-title text-slate-600 svelte-15gszf3")},m(l,c){h(l,n,c),T(n,f)},p(l,c){c&4&&a!==(a=l[2]("planned.empty")+"")&&G(f,a)},d(l){l&&u(n)}}}function P(o){let n,a,f;return a=new K({props:{place:o[8].place}}),{c(){n=y("li"),z(a.$$.fragment)},l(l){n=b(l,"LI",{});var c=w(n);E(a.$$.fragment,c),c.forEach(u)},m(l,c){h(l,n,c),M(a,n,null),f=!0},p(l,c){const i={};c&2&&(i.place=l[8].place),a.$set(i)},i(l){f||(m(a.$$.fragment,l),f=!0)},o(l){_(a.$$.fragment,l),f=!1},d(l){l&&u(n),L(a)}}}function W(o){let n,a,f,l,c,i=o[1].length===0&&I(o),p=j(o[1]),r=[];for(let e=0;e<p.length;e+=1)r[e]=P(k(o,p,e));const g=e=>_(r[e],1,1,()=>{r[e]=null});return l=new J({props:{threshold:100,window:!0}}),l.$on("loadMore",o[4]),{c(){i&&i.c(),n=v(),a=y("ul");for(let e=0;e<r.length;e+=1)r[e].c();f=v(),z(l.$$.fragment),this.h()},l(e){i&&i.l(e),n=x(e),a=b(e,"UL",{class:!0});var t=w(a);for(let s=0;s<r.length;s+=1)r[s].l(t);f=x(t),E(l.$$.fragment,t),t.forEach(u),this.h()},h(){S(a,"class","flex flex-wrap justify-center svelte-15gszf3")},m(e,t){i&&i.m(e,t),h(e,n,t),h(e,a,t);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(a,null);T(a,f),M(l,a,null),c=!0},p(e,[t]){if(e[1].length===0?i?i.p(e,t):(i=I(e),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),t&2){p=j(e[1]);let s;for(s=0;s<p.length;s+=1){const d=k(e,p,s);r[s]?(r[s].p(d,t),m(r[s],1)):(r[s]=P(d),r[s].c(),m(r[s],1),r[s].m(a,f))}for(A(),s=p.length;s<r.length;s+=1)g(s);V()}},i(e){if(!c){for(let t=0;t<p.length;t+=1)m(r[t]);m(l.$$.fragment,e),c=!0}},o(e){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)_(r[t]);_(l.$$.fragment,e),c=!1},d(e){e&&(u(n),u(a)),i&&i.d(e),q(r,e),L(l)}}}let D=20;function X(o,n,a){let f,l;$(o,F,t=>a(5,f=t)),$(o,H,t=>a(2,l=t));let{data:c}=n;const i=c.props.places.map(t=>{const s=f.find(d=>d.placeId===t.id);return s?{place:t,date:new Date(s.date)}:null}).filter(t=>t).sort((t,s)=>s.date.getTime()-t.date.getTime());let p=0,r=[],g=[...i];const e=()=>a(0,p++,p);return o.$$set=t=>{"data"in t&&a(3,c=t.data)},o.$$.update=()=>{o.$$.dirty&3&&a(1,r=[...r,...g.splice(D*p,D*(p+1)-1)])},[p,r,l,c,e]}class le extends N{constructor(n){super(),U(this,n,X,W,O,{data:3})}}export{le as component,ae as universal};
